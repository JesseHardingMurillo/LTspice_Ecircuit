LPFILTER.CIR - SIMPLE RC LOW-PASS FILTER
*------------------------------------------------------------------------------------------------------------------------------------------
*Circuit
*------------------------------------------------------------------------------------------------------------------------------------------
VS	in	0	AC	1	SIN(0	10	5KHZ)
R1	in	out	{p_r1}
C1	out	0	{p_c1}
*------------------------------------------------------------------------------------------------------------------------------------------
*Parameters:User Input
*------------------------------------------------------------------------------------------------------------------------------------------
.param		p_r1		1k
.param		p_c1		0.032UF
*------------------------------------------------------------------------------------------------------------------------------------------
*Parameters:Automatic calculation
*------------------------------------------------------------------------------------------------------------------------------------------
.param 		fc_cal			{1 / (2 * {pi} * p_r1 * p_c1)}
*.param		p_start_time	{(1/fc_cal)*4}
*.param		p_end_time		{(1/fc_cal)*10}
*.param		p_end_time		{(1/fc_cal)*5}
*.param		p_start_time	100u ;debug
*.param		p_end_time		1/{fc_cal}*5
.param		p_start_time	{4/{fc_cal}}
.param		p_end_time		{6/{fc_cal}}
*------------------------------------------------------------------------------------------------------------------------------------------
*Show Calculos of Fc
*------------------------------------------------------------------------------------------------------------------------------------------
VFc		a		0	{fc_cal}
*------------------------------------------------------------------------------------------------------------------------------------------
*Measures
*------------------------------------------------------------------------------------------------------------------------------------------
.meas	TRAN	Vin_max		MAX		V(in)		From p_start_time TO p_end_time
.meas	TRAN	Vout_max	MAX 	V(out)		From p_start_time
.meas	TRAN	A_v			PARAM				Vout_max/Vin_max
.meas 	TRAN	Fc			PARAM				{1 / (2 * pi * p_r1 * p_c1)}
*------------------------------------------------------------------------------------------------------------------------------------------
* ANALYSIS
*------------------------------------------------------------------------------------------------------------------------------------------
.TRAN	100mS
.PROBE
.END
