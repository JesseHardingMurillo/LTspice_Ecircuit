*------------------------------------------------------------------------------------------
*Subcircuito DAC 8 BITS
*------------------------------------------------------------------------------------------
;				`						INPUTS								  	|	OUTPUTS
.SUBCKT DAC_8bits bit[7] bit[6] bit[5] bit[4] bit[3] bit[2] bit[1] bit[0] VDD CLK VSS out

*------------------------------------------------------------------------------------------
*Parameters
*------------------------------------------------------------------------------------------
.PARAM N_BITS 			8			; Number of bits | FIXED VALUE

*------------------------------------------------------------------------------------------
E_dac	out	VSS  value={((1*V(bit[0]))+2*V(bit[1])+4*V(bit[2])+8*V(bit[3])+16*V(bit[4])+32*V(bit[5])+64*V(bit[6])+128*V(bit[7]))*(V(VDD)/2**(N_BITS))}
*------------------------------------------------------------------------------------------
.END DAC_8bits

*//////////////////////////////////////////////////////////////////////////////////////////

*------------------------------------------------------------------------------------------
*Subcircuito DAC 4 BITS
*------------------------------------------------------------------------------------------
;										INPUTS			|	OUTPUTS
.SUBCKT DAC_4bits bit[3] bit[2] bit[1] bit[0] VDD CLK VSS out

*------------------------------------------------------------------------------------------
*Parameters
*------------------------------------------------------------------------------------------
.PARAM N_BITS 			4		; Number of bits | FIXED VALUE

*------------------------------------------------------------------------------------------
E_dac	out	VSS  value={((1*V(bit[0]))+2*V(bit[1])+4*V(bit[2])+8*V(bit[3]))*(V(VDD)/2**(N_BITS))}
*------------------------------------------------------------------------------------------
.END DAC_4its

*///////////////////////////////////////////////////////////////////////////////////////////////////////

*//////////////////////////////////////////////////////////////////////////////////////////

*------------------------------------------------------------------------------------------
*Subcircuito DAC 4 BITS CLOCK
*------------------------------------------------------------------------------------------
;										INPUTS			|	OUTPUTS
.SUBCKT DAC_4bits_CLK bit[3] bit[2] bit[1] bit[0] VDD CLK VSS out

*------------------------------------------------------------------------------------------
*Parameters
*------------------------------------------------------------------------------------------
.PARAM N_BITS 			4		; Number of bits | FIXED VALUE

*------------------------------------------------------------------------------------------
E_dac out_dac	VSS  value={((1*V(bit[0]))+2*V(bit[1])+4*V(bit[2])+8*V(bit[3]))*(V(VDD)/2**(N_BITS))}

*------------------------------------------------------------------------------------------
*S&H
*------------------------------------------------------------------------------------------
Ash	 out_dac VSS CLK 0 0 0 out 0 SAMPLEHOLD Vhigh =20

.END DAC_4its

*///////////////////////////////////////////////////////////////////////////////////////////////////////



*------------------------------------------------------------------------------------------
*Subcircuito DAC 8 BITS with clk
*------------------------------------------------------------------------------------------
;										INPUTS								 	 |	OUTPUTS
.SUBCKT DAC_8bits_clk bit[7] bit[6] bit[5] bit[4] bit[3] bit[2] bit[1] bit[0] VDD CLK VSS out

*------------------------------------------------------------------------------------------
*Parameters
*------------------------------------------------------------------------------------------
.PARAM N_BITS 			8			; Number of bits | FIXED VALUE

*------------------------------------------------------------------------------------------
E_dac	out_dac	VSS  value={((1*V(bit[0]))+2*V(bit[1])+4*V(bit[2])+8*V(bit[3])+16*V(bit[4])+32*V(bit[5])+64*V(bit[6])+128*V(bit[7]))*(V(VDD)/2**(N_BITS))}

*------------------------------------------------------------------------------------------
*S&H
*------------------------------------------------------------------------------------------
Ash out_dac VSS CLK 0 0 0 out 0 SAMPLEHOLD Vhigh =20
.END DAC_8bits_clk

*//////////////////////////////////////////////////////////////////////////////////////////


*//////////////////////////////////////////////////////////////////////////////////////////

*------------------------------------------------------------------------------------------
*Subcircuito DAC 8 BITS CLOCK with two of 4 bits
*------------------------------------------------------------------------------------------
;										INPUTS			|	OUTPUTS
.SUBCKT DAC_8bits_CLK_V2 bit[7] bit[6] bit[5] bit[4] bit[3] bit[2] bit[1] bit[0] VDD CLK VSS out

*------------------------------------------------------------------------------------------
*Parameters
*------------------------------------------------------------------------------------------
.PARAM N_BITS 			4			; Number of bits | FIXED VALUE

*------------------------------------------------------------------------------------------

;.SUBCKT DAC_4bits_CLK bit[3] bit[2] bit[1] bit[0] VDD CLK VSS out
XDac_4bits_MSB  bit[7] bit[6] bit[5] bit[4] VDD CLK VSS OUT_MSB DAC_4bits_CLK

XDac_4bits_LSB  bit[3] bit[2] bit[1] bit[0] VDD CLK VSS OUT_LSB DAC_4bits_CLK

Bscale_lsb out_lsb_scaled 0 v={V(out_lsb) / 2**{N_BITS}}


Bout out_dac vss V = {V(out_lsb_scaled) + V(OUT_MSB)}

*------------------------------------------------------------------------------------------
*S&H
*------------------------------------------------------------------------------------------
Ash	 out_dac VSS CLK 0 0 0 out 0 SAMPLEHOLD Vhigh =20

.END DAC_8bits_CLK_V2

*///////////////////////////////////////////////////////////////////////////////////////////////////////
